(function (global, factory) {
  typeof exports === 'object' && typeof module !== 'undefined' ? factory() :
  typeof define === 'function' && define.amd ? define(factory) :
  (factory());
}(this, (function () { 'use strict';

function ___$insertStyle(css) {
  if (!css) {
    return;
  }
  if (typeof window === 'undefined') {
    return;
  }

  var style = document.createElement('style');

  style.setAttribute('type', 'text/css');
  style.innerHTML = css;
  document.head.appendChild(style);

  return css;
}

___$insertStyle("@charset \"UTF-8\";\n/*\r\n * Beautiful Color\r\n */\n/*\r\n * 设置placeholder样式\r\n */\n* {\n  box-sizing: border-box; }\n\nbody, div, dl, dt, dd, ul, ol, li,\nh1, h2, h3, h4, h5, h6, pre, code,\nform, fieldset, legend, input, button,\ntextarea, p, blockquote, th, td {\n  margin: 0;\n  padding: 0; }\n\na, a:hover, a:active, a:focus, input, input:hover, input:active, input:focus {\n  outline: none; }\n\nul, ol {\n  list-style: none; }\n\nbody {\n  width: 100vw;\n  height: 100vh;\n  display: flex;\n  justify-content: center;\n  align-items: center;\n  background-color: #f3f3f3;\n  overflow: hidden; }\n\n.game-wrap {\n  position: relative;\n  overflow: hidden;\n  display: flex; }\n\n.game-cover {\n  position: absolute;\n  top: 0;\n  left: 0;\n  width: 100%;\n  height: 100%;\n  background-color: rgba(0, 0, 0, 0.8);\n  display: flex;\n  flex-direction: column;\n  justify-content: center;\n  align-items: center;\n  font-size: 48px;\n  color: #fff;\n  text-shadow: 1px 1px 5px rgba(255, 255, 255, 0.8);\n  user-select: none;\n  cursor: default; }\n");

/**
 * 游戏配置文件
 */
var DPR = window.devicePixelRatio || 1;
var BG_COLOR = '#31102e'; // 背景颜色
var ROAD_COLOR = '#ff186b'; // 道路颜色
var WALL_COLOR = '#421052'; // 墙的颜色
var GAME_WIDTH = 320 * DPR; // 游戏实际宽度
var GAME_SPEED = 3 * DPR; // 游戏速度
var MAX_BALL_PER_DISTANCE = 30 * DPR; // 小球的最快移动速度
var MAX_ROAD_WIDTH = 120 * DPR; // 道路最大宽度
var MIN_ROAT_WIDTH = 80 * DPR; // 道路最小宽度
var BAN_MID_RANGE = 40 * DPR; // 地图中间范围不作为转折点
var MAX_LENGTH = 150 * DPR; // 一节道路的最大长度
var MIN_LENGTH = 80 * DPR; // 一节道路的最小长度
var BALL_RADIUS = 6 * DPR; // 球的半径
var TAIL_LENGTH = 100 * DPR; // 小球尾巴长度
var TAIL_DIST = 5 * DPR; // 小球与尾巴的距离
var TAIL_WIDTH = 2 * DPR; // 小球尾巴的宽度

var classCallCheck = function (instance, Constructor) {
  if (!(instance instanceof Constructor)) {
    throw new TypeError("Cannot call a class as a function");
  }
};

var createClass = function () {
  function defineProperties(target, props) {
    for (var i = 0; i < props.length; i++) {
      var descriptor = props[i];
      descriptor.enumerable = descriptor.enumerable || false;
      descriptor.configurable = true;
      if ("value" in descriptor) descriptor.writable = true;
      Object.defineProperty(target, descriptor.key, descriptor);
    }
  }

  return function (Constructor, protoProps, staticProps) {
    if (protoProps) defineProperties(Constructor.prototype, protoProps);
    if (staticProps) defineProperties(Constructor, staticProps);
    return Constructor;
  };
}();



























var slicedToArray = function () {
  function sliceIterator(arr, i) {
    var _arr = [];
    var _n = true;
    var _d = false;
    var _e = undefined;

    try {
      for (var _i = arr[Symbol.iterator](), _s; !(_n = (_s = _i.next()).done); _n = true) {
        _arr.push(_s.value);

        if (i && _arr.length === i) break;
      }
    } catch (err) {
      _d = true;
      _e = err;
    } finally {
      try {
        if (!_n && _i["return"]) _i["return"]();
      } finally {
        if (_d) throw _e;
      }
    }

    return _arr;
  }

  return function (arr, i) {
    if (Array.isArray(arr)) {
      return arr;
    } else if (Symbol.iterator in Object(arr)) {
      return sliceIterator(arr, i);
    } else {
      throw new TypeError("Invalid attempt to destructure non-iterable instance");
    }
  };
}();

/**
 * ball.js
 * 一个小球
 */
var _default$1 = {
    x: 0,
    y: 0
};
var Ball = function () {
    function Ball(ctx, config) {
        classCallCheck(this, Ball);

        this.ctx = ctx;
        Object.assign(this, _default$1, config);
        this.tails = this.initTail();
    }
    /**
     * 初始化尾巴数组
     * @return {Array} 尾巴数组
     */


    createClass(Ball, [{
        key: 'initTail',
        value: function initTail() {
            var x = this.x,
                y = this.y;

            var tails = [];
            var startPos = [x, y + BALL_RADIUS + TAIL_DIST];
            for (var i = 0; i < TAIL_LENGTH / DPR; i++) {
                tails.push({
                    x: startPos[0],
                    y: startPos[1] + i * DPR
                });
            }
            return tails;
        }
        /**
         * 更新球的位置，并且修改尾巴坐标数组
         */

    }, {
        key: 'updateBallPos',
        value: function updateBallPos(pos) {
            var a = this.tails[0].x;
            for (var i = 1; i < this.tails.length; i++) {
                var b = this.tails[i].x;
                this.tails[i].x = a;
                a = b;
            }
            this.x = pos;
            this.tails[0] = {
                x: pos,
                y: this.tails[0].y
            };
        }
        /**
         * 渲染
         */

    }, {
        key: 'render',
        value: function render() {
            this.renderShadow();
            this.renderBall();
            // this.renderTail()
        }
        /**
         * 画个球
         */

    }, {
        key: 'renderBall',
        value: function renderBall() {
            var x = this.x,
                y = this.y;

            var grd = this.ctx.createLinearGradient(x, y - BALL_RADIUS, x, y + BALL_RADIUS);
            grd.addColorStop(0, '#fff');
            grd.addColorStop(0.5, '#fff');
            grd.addColorStop(0.5, '#c7baac');
            grd.addColorStop(1, '#c7baac');
            this.ctx.fillStyle = grd;
            this.ctx.beginPath();
            this.ctx.arc(x, y, BALL_RADIUS, 0, Math.PI * 2, true);
            this.ctx.fill();
        }
        /**
         * 画球的阴影
         */

    }, {
        key: 'renderShadow',
        value: function renderShadow() {
            var x = this.x,
                y = this.y;

            this.ctx.fillStyle = 'rgba(0, 0, 0, 0.5)';
            this.ctx.save();
            this.ctx.scale(1, 0.5);
            this.ctx.beginPath();
            this.ctx.arc(x, y * 2 + BALL_RADIUS * 2, BALL_RADIUS, 0, 2 * Math.PI, false);
            this.ctx.closePath();
            this.ctx.restore();
            this.ctx.fill();
        }
        /**
         * 画球的小尾巴
         */

    }, {
        key: 'renderTail',
        value: function renderTail() {
            var x = this.x,
                y = this.y;

            var startPos = [x, y + BALL_RADIUS + TAIL_DIST];
            var endPos = [x, y + BALL_RADIUS + TAIL_DIST + TAIL_LENGTH];
            var grd = this.ctx.createLinearGradient(startPos[0], startPos[1], endPos[0], endPos[1]);
            grd.addColorStop(0, 'rgba(255, 255, 255, .8)');
            grd.addColorStop(0.5, 'rgba(255, 255, 255, .5)');
            grd.addColorStop(1, 'transparent');
            /* 轨迹尾巴 */
            this.ctx.strokeStyle = grd;
            this.ctx.lineWidth = TAIL_WIDTH;
            this.ctx.lineCap = 'round';
            this.ctx.beginPath();
            for (var i = 1; i < this.tails.length; i++) {
                this.ctx.moveTo(this.tails[i].x, this.tails[i].y);
                this.ctx.lineTo(this.tails[i - 1].x, this.tails[i - 1].y);
            }
            this.ctx.stroke();
        }
    }]);
    return Ball;
}();

/**
 * scene.js
 * 场景
 */
var _default$2 = {
    width: 600,
    height: 500
};
var Scene = function () {
    function Scene(ctx, config) {
        classCallCheck(this, Scene);

        this.ctx = ctx;
        Object.assign(this, _default$2, config);
        // 根据画布宽度和实际游戏宽度，计算左右留空区域
        this.spacer = (this.width - GAME_WIDTH) / 2;
        // 初始化
        this.init();
    }
    /**
     * 初始化场景
     */


    createClass(Scene, [{
        key: 'init',
        value: function init() {
            this.leftLines = this.initLeftLines();
            this.rightLines = this.initRightLines();
        }
        /**
         * 更新场景
         */

    }, {
        key: 'update',
        value: function update() {
            this.sceneRollDown(this.leftLines);
            this.sceneRollDown(this.rightLines);
            // 添加新的路
            if (this.leftLines[0][0].y > -this.height * 2) {
                this.leftLines.unshift(this.getLeftLine(this.leftLines[0][0], true));
                this.rightLines.unshift(this.getRightLine(this.leftLines[0], this.rightLines[0][0], true));
            }
            if (this.leftLines.length >= 30) {
                this.leftLines = this.filterUnusableRoad(this.leftLines);
                this.rightLines = this.rightLines.slice(0, this.leftLines.length);
            }
        }
        /**
         * 场景下滚，数组的 y 增加，并把超出画布下边界的线清除掉
         * @param  {Array} arr 线数组
         * @return {Array}     线数组
         */

    }, {
        key: 'sceneRollDown',
        value: function sceneRollDown(arr) {
            return arr.map(function (obj) {
                obj[0].y += GAME_SPEED;
            });
        }
        /**
         * 过滤掉不可用的路线（超出底部范围
         * @param  {Array} arr 未过滤数组
         * @return {Array}     过滤后数组
         */

    }, {
        key: 'filterUnusableRoad',
        value: function filterUnusableRoad(arr) {
            var _this = this;

            return arr.filter(function (obj) {
                return obj[0].y < _this.height * 2;
            });
        }
        /**
         * 初始化道路左侧的线
         * @return {Array} 线数组
         */

    }, {
        key: 'initLeftLines',
        value: function initLeftLines() {
            var arr = [[{ x: 0, y: 0 }, { x: 0, y: this.height }]];
            while (arr[0][0].y < -this.height * 2) {
                arr.unshift(this.getLeftLine(arr[0][0], true));
            }
            return arr;
        }
        /**
         * 初始化道路右侧的线
         * @return {Array} 线数组
         */

    }, {
        key: 'initRightLines',
        value: function initRightLines() {
            var arr = [[{ x: this.width, y: 0 }, { x: this.width, y: this.height }]];
            for (var i = this.leftLines.length - 2; i > 0; i--) {
                arr.unshift(this.getRightLine(this.leftLines[i], arr[i - 1][1], true));
            }
            return arr;
        }
        /**
         * 得到一条左边的线
         * @param  {Object}  dot        一个点坐标对象，为空时则根据范围随机一个点
         * @param  {Boolean} isReverse 是否为反方向获得线
         * @return {Array}             一个包含起点坐标和结束坐标的线数组 eg: [startDot, endDot]
         */

    }, {
        key: 'getLeftLine',
        value: function getLeftLine(dot, isReverse) {
            var endDot = dot;
            if (isReverse) {
                dot = this.getLeftOtherDot(endDot, isReverse);
            } else if (dot) {
                endDot = this.getLeftOtherDot(dot);
            }
            return [dot, endDot];
        }
        /**
         * 得到一条右侧的线，根据左侧的线获得
         * @param  {Array}  line      左侧的线
         * @param  {Object}  dot       一个点坐标对象
         * @param  {Boolean} isReverse 是否为反方向获得线
         * @return {Array}            一个包含起点坐标和结束坐标的线数组 eg: [startDot, endDot]
         */

    }, {
        key: 'getRightLine',
        value: function getRightLine(line, dot, isReverse) {
            return isReverse ? [this.getRightDot(line[0]), dot] : [dot || this.getRightDot(line[0]), this.getRightDot(line[1])];
        }
        /**
         * 渲染场景
         */

    }, {
        key: 'render',
        value: function render() {
            this.renderWall();
            this.renderRoad();
        }
        /**
         * 渲染道路
         */

    }, {
        key: 'renderRoad',
        value: function renderRoad() {
            this.ctx.fillStyle = ROAD_COLOR;
            this.connectRoadPath();
            this.ctx.fill();
        }
        /**
         * 连接道路的路径，将左侧和右侧线数组连接成一起
         * @return {[type]} [description]
         */

    }, {
        key: 'connectRoadPath',
        value: function connectRoadPath() {
            var _this2 = this;

            this.ctx.save();
            this.ctx.beginPath();
            this.connectLine(this.leftLines[0][0], this.leftLines[0][1]);
            Array.from(this.leftLines, function (obj) {
                _this2.connectLine(obj[0], obj[1]);
            });
            this.connectLine(this.leftLines[this.leftLines.length - 1][1], this.rightLines[this.rightLines.length - 1][1]);
            for (var i = this.rightLines.length - 1; i > 0; i--) {
                var obj = this.rightLines[i];
                this.connectLine(obj[1], obj[0]);
            }
            this.connectLine(this.rightLines[0][0], this.leftLines[0][0]);
            this.ctx.restore();
        }
        /**
         * 根据两个点连成一条线
         * @param  {Object} dot1  起始点
         * @param  {Object} dot2  终止点
         */

    }, {
        key: 'connectLine',
        value: function connectLine(dot1, dot2) {
            this.ctx.lineTo(dot1.x, dot1.y);
            this.ctx.lineTo(dot2.x, dot2.y);
        }
        /**
         * 画墙
         */

    }, {
        key: 'renderWall',
        value: function renderWall() {
            var _this3 = this;

            this.ctx.save();
            Array.from(this.leftLines.concat(this.rightLines), function (obj) {
                var _obj = slicedToArray(obj, 2),
                    dot1 = _obj[0],
                    dot2 = _obj[1];

                var WALL_HEIGHT = _this3.height / 2;
                var grd = _this3.ctx.createLinearGradient(dot1.x, dot1.y, dot2.x + WALL_HEIGHT, dot2.y + WALL_HEIGHT);
                grd.addColorStop(0, WALL_COLOR);
                grd.addColorStop(1, 'transparent');
                _this3.ctx.fillStyle = grd;
                _this3.ctx.save();
                _this3.ctx.beginPath();
                _this3.ctx.moveTo(dot1.x, dot1.y);
                _this3.ctx.lineTo(dot2.x, dot2.y);
                _this3.ctx.lineTo(dot2.x, dot2.y + WALL_HEIGHT);
                _this3.ctx.lineTo(dot1.x, dot1.y + WALL_HEIGHT);
                _this3.ctx.restore();
                _this3.ctx.fill();
            });
            this.ctx.restore();
        }
        /**
         * 根据一个点，获取另外一个点
         * @param  {Object}  dot       点坐标对象
         * @param  {Boolean} isReverse 是否反方向获取线
         * @return {[type]}            [description]
         */

    }, {
        key: 'getLeftOtherDot',
        value: function getLeftOtherDot(dot, isReverse) {
            return {
                x: dot.x > this.width / 2 ? this.getRandom(this.spacer, this.width / 2 - BAN_MID_RANGE / 2) : this.getRandom(this.width / 2 + BAN_MID_RANGE / 2, this.width - MAX_ROAD_WIDTH - this.spacer),
                y: dot.y + this.getRandom(MIN_LENGTH, MAX_LENGTH) * (isReverse ? -1 : 1)
            };
        }
        /**
         * 得到右侧的点
         * @param  {Object} dot 一个左侧的坐标点
         * @return {Object}     一个右侧的坐标点
         */

    }, {
        key: 'getRightDot',
        value: function getRightDot(dot) {
            return {
                x: this.getRandom(dot.x + MIN_ROAT_WIDTH, dot.x + MAX_ROAD_WIDTH),
                y: dot.y
            };
        }
        /**
         * 根据范围，获得一个随机数
         * @param  {Number} min 范围最小值
         * @param  {Number} max 范围最大值
         * @return {Number}     随机数
         */

    }, {
        key: 'getRandom',
        value: function getRandom(min, max) {
            return ~~(Math.random() * (max - min)) + min;
        }
    }]);
    return Scene;
}();

/**
 * BallRunner.js
 * 一个小球滚动的 Canvas 游戏
 */
var _default = {
    width: 600,
    height: 500,
    gameOver: null
};

var BallRunner = function () {
    function BallRunner(id, config) {
        classCallCheck(this, BallRunner);

        this.point = 0;
        this._mx = 0;
        this.config = Object.assign({}, _default, config);
        // 初始化
        this.init(id);
        this.initGame();
        // 绑定事件
        this.moveBall = this.moveBall.bind(this);
        this.bindEvent();
    }
    /**
     * 初始化 Canvas
     */


    createClass(BallRunner, [{
        key: 'init',
        value: function init(id) {
            if (!id) {
                return console.error('[BallRunner.js] param id is the required.');
            }
            this.canvas = document.getElementById(id);
            if (!this.canvas) {
                return console.error('[BallRunner.js] Could not find the canvas element.');
            }
            this.ctx = this.canvas.getContext('2d');
            // 乘以DPR是为了在高倍分辨率下保持高清
            this.canvas.width = this.width = (this.config.width || this.canvas.offsetWidth) * DPR;
            this.canvas.height = this.height = (this.config.height || this.canvas.offsetHeight) * DPR;
            this.canvas.style.width = this.width / DPR + 'px';
            this.canvas.style.height = this.height / DPR + 'px';
            this.bounds = this.canvas.getBoundingClientRect();
        }
        /**
         * 初始化游戏
         */

    }, {
        key: 'initGame',
        value: function initGame() {
            if (!this.ctx) {
                return console.error('[BallRunner.js] Could not find the canvas element.');
            }
            this.startSign = false;
            this._mx = 0;
            this.point = 0;
            // 生成球
            this.ball = new Ball(this.ctx, {
                x: this.width / 2,
                y: this.height / 2
            });
            // 生成场景
            this.scene = new Scene(this.ctx, {
                width: this.width,
                height: this.height
            });
            // 开始渲染
            this.render();
        }
        /**
         * 绑定事件
         */

    }, {
        key: 'bindEvent',
        value: function bindEvent() {
            if (!this.canvas) {
                return console.error('[BallRunner.js] Could not find the canvas element.');
            }
            this.canvas.addEventListener('mousemove', this.moveBall);
            this.canvas.addEventListener('touchmove', this.moveBall);
        }
        /**
         * 解除绑定事件
         */

    }, {
        key: 'unbindEvent',
        value: function unbindEvent() {
            if (!this.canvas) {
                return console.error('[BallRunner.js] Could not find the canvas element.');
            }
            this.canvas.removeEventListener('mousemove', this.moveBall);
            this.canvas.removeEventListener('touchmove', this.moveBall);
        }
        /**
         * 控制小球左右移动
         */

    }, {
        key: 'moveBall',
        value: function moveBall(e) {
            if (!this.startSign) {
                return;
            }
            e.preventDefault();
            if (e.targetTouches && e.targetTouches[0]) e = e.targetTouches[0];
            this._mx = (e.clientX - this.bounds.left) * DPR;
        }
        /**
         * 游戏开始
         */

    }, {
        key: 'start',
        value: function start() {
            var _this = this;

            if (this.startSign) {
                return false;
            }
            this.startSign = true;
            var step = function step() {
                if (!_this.startSign) {
                    return false;
                }
                _this.point++;
                _this.update();
                _this.render();
                if (!_this.inRoad()) {
                    _this.config.gameOver && _this.config.gameOver(_this.point);
                    _this.initGame();
                }
                requestAnimationFrame(step);
            };
            requestAnimationFrame(step);
        }
        /**
         * 游戏暂停
         */

    }, {
        key: 'pause',
        value: function pause() {
            this.startSign = false;
        }
        /**
         * 更新游戏
         */

    }, {
        key: 'update',
        value: function update() {
            this.updateScene();
            this.updateBall();
        }
        /**
         * 判断小球是否在路径中
         */

    }, {
        key: 'inRoad',
        value: function inRoad() {
            this.scene.connectRoadPath();
            return this.ctx.isPointInPath(this.ball.x, this.ball.y + BALL_RADIUS);
        }
        /**
         * 更新个球
         */

    }, {
        key: 'updateBall',
        value: function updateBall() {
            if (!this._mx) {
                return false;
            }
            var diff = this._mx - this.ball.x;
            var direction = diff < 0 ? -1 : 1;
            this.ball.updateBallPos(this.ball.x + direction * (Math.abs(diff) / this.width * MAX_BALL_PER_DISTANCE));
        }
        /**
         * 更新场景
         */

    }, {
        key: 'updateScene',
        value: function updateScene() {
            this.scene.update();
        }
        /**
         * 渲染画布
         */

    }, {
        key: 'render',
        value: function render() {
            this.renderBackground();
            this.renderScene();
            this.renderBall();
            this.renderPoint();
        }
        /**
         * 画个背景
         */

    }, {
        key: 'renderBackground',
        value: function renderBackground() {
            this.ctx.fillStyle = BG_COLOR;
            this.ctx.fillRect(0, 0, this.width, this.height);
        }
        /**
         * 画个场景
         */

    }, {
        key: 'renderScene',
        value: function renderScene() {
            this.scene.render();
        }
        /**
         * 画个球
         */

    }, {
        key: 'renderBall',
        value: function renderBall() {
            this.ball.render();
        }
        /**
         * 画个分数
         */

    }, {
        key: 'renderPoint',
        value: function renderPoint() {
            this.ctx.save();
            this.ctx.font = 'normal 50px DINAlternate-Bold';
            this.ctx.textAlign = 'right';
            this.ctx.fillStyle = '#fff';
            this.ctx.fillText('' + this.point, this.width - 10, 50);
            this.ctx.restore();
        }
    }]);
    return BallRunner;
}();

var initGame = function initGame() {
    var wrap = document.querySelector('.game-wrap');
    var cover = wrap.querySelector('.game-cover');
    var game = new BallRunner('ball-runner', {
        width: 'ontouchmove' in window ? document.body.offsetWidth : 600,
        height: 'ontouchmove' in window ? document.body.offsetHeight : 500,
        gameOver: function gameOver(point) {
            cover.innerHTML = '<small>分数: ' + point + '</small><br /> 点击重新开始';
            cover.style.display = 'flex';
        }
    });
    wrap.onclick = function () {
        if (game.startSign) {
            cover.style.display = 'flex';
            cover.innerHTML = '点击继续';
            game.pause();
        } else {
            cover.style.display = 'none';
            game.start();
        }
    };
};
initGame();

})));
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjpudWxsLCJzb3VyY2VzIjpbIi4uLy4uL3NyYy9zY3JpcHRzL21vZHVsZXMvY29uZmlndXJhdGlvbi50cyIsIi4uLy4uL3NyYy9zY3JpcHRzL21vZHVsZXMvYmFsbC50cyIsIi4uLy4uL3NyYy9zY3JpcHRzL21vZHVsZXMvc2NlbmUudHMiLCIuLi8uLi9zcmMvc2NyaXB0cy9tb2R1bGVzL0JhbGxSdW5uZXIudHMiLCIuLi8uLi9zcmMvc2NyaXB0cy9tYWluLnRzIl0sInNvdXJjZXNDb250ZW50IjpbIi8qKlxuICog5ri45oiP6YWN572u5paH5Lu2XG4gKi9cblxuZXhwb3J0IGNvbnN0IERQUiA9IHdpbmRvdy5kZXZpY2VQaXhlbFJhdGlvIHx8IDFcbmV4cG9ydCBjb25zdCBCR19DT0xPUiA9ICcjMzExMDJlJyAgLy8g6IOM5pmv6aKc6ImyXG5leHBvcnQgY29uc3QgUk9BRF9DT0xPUiA9ICcjZmYxODZiJyAvLyDpgZPot6/popzoibJcbmV4cG9ydCBjb25zdCBXQUxMX0NPTE9SID0gJyM0MjEwNTInIC8vIOWimeeahOminOiJslxuZXhwb3J0IGNvbnN0IEdBTUVfV0lEVEggPSAzMjAgKiBEUFIgLy8g5ri45oiP5a6e6ZmF5a695bqmXG5leHBvcnQgY29uc3QgR0FNRV9TUEVFRCA9IDMgKiBEUFIgLy8g5ri45oiP6YCf5bqmXG5leHBvcnQgY29uc3QgTUFYX0JBTExfUEVSX0RJU1RBTkNFID0gMzAgKiBEUFIgLy8g5bCP55CD55qE5pyA5b+r56e75Yqo6YCf5bqmXG5leHBvcnQgY29uc3QgTUFYX1JPQURfV0lEVEggPSAxMjAgKiBEUFIgIC8vIOmBk+i3r+acgOWkp+WuveW6plxuZXhwb3J0IGNvbnN0IE1JTl9ST0FUX1dJRFRIID0gODAgKiBEUFIgIC8vIOmBk+i3r+acgOWwj+WuveW6plxuZXhwb3J0IGNvbnN0IEJBTl9NSURfUkFOR0UgPSA0MCAqIERQUiAgLy8g5Zyw5Zu+5Lit6Ze06IyD5Zu05LiN5L2c5Li66L2s5oqY54K5XG5leHBvcnQgY29uc3QgTUFYX0xFTkdUSCA9IDE1MCAqIERQUiAvLyDkuIDoioLpgZPot6/nmoTmnIDlpKfplb/luqZcbmV4cG9ydCBjb25zdCBNSU5fTEVOR1RIID0gODAgKiBEUFIgLy8g5LiA6IqC6YGT6Lev55qE5pyA5bCP6ZW/5bqmXG5leHBvcnQgY29uc3QgQkFMTF9SQURJVVMgPSA2ICogRFBSIC8vIOeQg+eahOWNiuW+hFxuZXhwb3J0IGNvbnN0IFRBSUxfTEVOR1RIID0gMTAwICogRFBSIC8vIOWwj+eQg+WwvuW3tOmVv+W6plxuZXhwb3J0IGNvbnN0IFRBSUxfRElTVCA9IDUgKiBEUFIgLy8g5bCP55CD5LiO5bC+5be055qE6Led56a7XG5leHBvcnQgY29uc3QgVEFJTF9XSURUSCA9IDIgKiBEUFIgLy8g5bCP55CD5bC+5be055qE5a695bqmXG4iLCIvKipcbiAqIGJhbGwuanNcbiAqIOS4gOS4quWwj+eQg1xuICovXG5cbmNvbnN0IF9kZWZhdWx0ID0ge1xuICB4OiAwLFxuICB5OiAwXG59XG5cbmltcG9ydCB7IEJBTExfUkFESVVTLCBUQUlMX0xFTkdUSCwgVEFJTF9ESVNULCBEUFIsIFRBSUxfV0lEVEggfSBmcm9tICcuL2NvbmZpZ3VyYXRpb24nXG5cbmV4cG9ydCBpbnRlcmZhY2UgSUJhbGwge1xuICB4OiBudW1iZXIsXG4gIHk6IG51bWJlclxufVxuXG5leHBvcnQgZGVmYXVsdCBjbGFzcyBCYWxsIHtcbiAgY3R4OiBDYW52YXNSZW5kZXJpbmdDb250ZXh0MkQ7XG4gIHRhaWxzOiBJQmFsbFtdO1xuICB4OiBudW1iZXI7XG4gIHk6IG51bWJlcjtcbiAgY29uc3RydWN0b3IgKGN0eDogQ2FudmFzUmVuZGVyaW5nQ29udGV4dDJELCBjb25maWc6IGFueSkge1xuICAgIHRoaXMuY3R4ID0gY3R4XG4gICAgT2JqZWN0LmFzc2lnbih0aGlzLCBfZGVmYXVsdCwgY29uZmlnKVxuICAgIHRoaXMudGFpbHMgPSB0aGlzLmluaXRUYWlsKClcbiAgfVxuICAvKipcbiAgICog5Yid5aeL5YyW5bC+5be05pWw57uEXG4gICAqIEByZXR1cm4ge0FycmF5fSDlsL7lt7TmlbDnu4RcbiAgICovXG4gIGluaXRUYWlsICgpOiBJQmFsbFtdIHtcbiAgICBsZXQgeyB4LCB5IH0gPSB0aGlzXG4gICAgbGV0IHRhaWxzID0gW11cbiAgICBsZXQgc3RhcnRQb3MgPSBbeCwgeSArIEJBTExfUkFESVVTICsgVEFJTF9ESVNUXVxuXG4gICAgZm9yIChsZXQgaSA9IDA7IGkgPCBUQUlMX0xFTkdUSCAvIERQUjsgaSsrKSB7XG4gICAgICB0YWlscy5wdXNoKHtcbiAgICAgICAgeDogc3RhcnRQb3NbMF0sXG4gICAgICAgIHk6IHN0YXJ0UG9zWzFdICsgaSAqIERQUlxuICAgICAgfSlcbiAgICB9XG5cbiAgICByZXR1cm4gdGFpbHNcbiAgfVxuXG4gIC8qKlxuICAgKiDmm7TmlrDnkIPnmoTkvY3nva7vvIzlubbkuJTkv67mlLnlsL7lt7TlnZDmoIfmlbDnu4RcbiAgICovXG4gIHVwZGF0ZUJhbGxQb3MgKHBvczogbnVtYmVyKSB7XG4gICAgbGV0IGEgPSB0aGlzLnRhaWxzWzBdLnhcbiAgICBmb3IgKGxldCBpID0gMTsgaSA8IHRoaXMudGFpbHMubGVuZ3RoOyBpKyspIHtcbiAgICAgIGxldCBiID0gdGhpcy50YWlsc1tpXS54XG4gICAgICB0aGlzLnRhaWxzW2ldLnggPSBhXG4gICAgICBhID0gYlxuICAgIH1cblxuICAgIHRoaXMueCA9IHBvc1xuICAgIHRoaXMudGFpbHNbMF0gPSB7XG4gICAgICB4OiBwb3MsXG4gICAgICB5OiB0aGlzLnRhaWxzWzBdLnlcbiAgICB9XG4gIH1cblxuICAvKipcbiAgICog5riy5p+TXG4gICAqL1xuICByZW5kZXIgKCkge1xuICAgIHRoaXMucmVuZGVyU2hhZG93KClcbiAgICB0aGlzLnJlbmRlckJhbGwoKVxuICAgIC8vIHRoaXMucmVuZGVyVGFpbCgpXG4gIH1cblxuICAvKipcbiAgICog55S75Liq55CDXG4gICAqL1xuICByZW5kZXJCYWxsICgpIHtcbiAgICBsZXQgeyB4LCB5IH0gPSB0aGlzXG4gICAgbGV0IGdyZCA9IHRoaXMuY3R4LmNyZWF0ZUxpbmVhckdyYWRpZW50KHgsIHkgLSBCQUxMX1JBRElVUywgeCwgeSArIEJBTExfUkFESVVTKVxuICAgIGdyZC5hZGRDb2xvclN0b3AoMCwgJyNmZmYnKVxuICAgIGdyZC5hZGRDb2xvclN0b3AoMC41LCAnI2ZmZicpXG4gICAgZ3JkLmFkZENvbG9yU3RvcCgwLjUsICcjYzdiYWFjJylcbiAgICBncmQuYWRkQ29sb3JTdG9wKDEsICcjYzdiYWFjJylcbiAgICB0aGlzLmN0eC5maWxsU3R5bGUgPSBncmRcbiAgICB0aGlzLmN0eC5iZWdpblBhdGgoKVxuICAgIHRoaXMuY3R4LmFyYyh4LCB5LCBCQUxMX1JBRElVUywgMCwgTWF0aC5QSSAqIDIsIHRydWUpXG4gICAgdGhpcy5jdHguZmlsbCgpXG4gIH1cbiAgLyoqXG4gICAqIOeUu+eQg+eahOmYtOW9sVxuICAgKi9cbiAgcmVuZGVyU2hhZG93ICgpIHtcbiAgICBsZXQgeyB4LCB5IH0gPSB0aGlzXG5cbiAgICB0aGlzLmN0eC5maWxsU3R5bGUgPSAncmdiYSgwLCAwLCAwLCAwLjUpJ1xuICAgIHRoaXMuY3R4LnNhdmUoKVxuICAgIHRoaXMuY3R4LnNjYWxlKDEsIDAuNSlcbiAgICB0aGlzLmN0eC5iZWdpblBhdGgoKVxuICAgIHRoaXMuY3R4LmFyYyh4LCB5ICogMiArIEJBTExfUkFESVVTICogMiwgQkFMTF9SQURJVVMsIDAsIDIgKiBNYXRoLlBJLCBmYWxzZSlcbiAgICB0aGlzLmN0eC5jbG9zZVBhdGgoKVxuICAgIHRoaXMuY3R4LnJlc3RvcmUoKVxuICAgIHRoaXMuY3R4LmZpbGwoKVxuICB9XG4gIC8qKlxuICAgKiDnlLvnkIPnmoTlsI/lsL7lt7RcbiAgICovXG4gIHJlbmRlclRhaWwgKCkge1xuICAgIGxldCB7IHgsIHkgfSA9IHRoaXNcblxuICAgIGxldCBzdGFydFBvcyA9IFt4LCB5ICsgQkFMTF9SQURJVVMgKyBUQUlMX0RJU1RdXG4gICAgbGV0IGVuZFBvcyA9IFt4LCB5ICsgQkFMTF9SQURJVVMgKyBUQUlMX0RJU1QgKyBUQUlMX0xFTkdUSF1cbiAgICBsZXQgZ3JkID0gdGhpcy5jdHguY3JlYXRlTGluZWFyR3JhZGllbnQoc3RhcnRQb3NbMF0sIHN0YXJ0UG9zWzFdLCBlbmRQb3NbMF0sIGVuZFBvc1sxXSlcbiAgICBncmQuYWRkQ29sb3JTdG9wKDAsICdyZ2JhKDI1NSwgMjU1LCAyNTUsIC44KScpXG4gICAgZ3JkLmFkZENvbG9yU3RvcCgwLjUsICdyZ2JhKDI1NSwgMjU1LCAyNTUsIC41KScpXG4gICAgZ3JkLmFkZENvbG9yU3RvcCgxLCAndHJhbnNwYXJlbnQnKVxuXG4gICAgLyog6L2o6L+55bC+5be0ICovXG4gICAgdGhpcy5jdHguc3Ryb2tlU3R5bGUgPSBncmRcbiAgICB0aGlzLmN0eC5saW5lV2lkdGggPSBUQUlMX1dJRFRIXG4gICAgdGhpcy5jdHgubGluZUNhcCA9ICdyb3VuZCdcbiAgICB0aGlzLmN0eC5iZWdpblBhdGgoKVxuICAgIGZvciAobGV0IGkgPSAxOyBpIDwgdGhpcy50YWlscy5sZW5ndGg7IGkrKykge1xuICAgICAgdGhpcy5jdHgubW92ZVRvKHRoaXMudGFpbHNbaV0ueCwgdGhpcy50YWlsc1tpXS55KVxuICAgICAgdGhpcy5jdHgubGluZVRvKHRoaXMudGFpbHNbaSAtIDFdLngsIHRoaXMudGFpbHNbaSAtIDFdLnkpXG4gICAgfVxuICAgIHRoaXMuY3R4LnN0cm9rZSgpXG4gIH1cbn0iLCIvKipcbiAqIHNjZW5lLmpzXG4gKiDlnLrmma9cbiAqL1xuXG5jb25zdCBfZGVmYXVsdCA9IHtcbiAgd2lkdGg6IDYwMCxcbiAgaGVpZ2h0OiA1MDBcbn1cblxuaW1wb3J0IHsgTUFYX1JPQURfV0lEVEgsIE1JTl9ST0FUX1dJRFRILCBNQVhfTEVOR1RILCBNSU5fTEVOR1RILCBHQU1FX1dJRFRILCBHQU1FX1NQRUVELCBST0FEX0NPTE9SLCBXQUxMX0NPTE9SLCBCQU5fTUlEX1JBTkdFIH0gZnJvbSAnLi9jb25maWd1cmF0aW9uJ1xuXG5pbnRlcmZhY2UgSURvdCB7XG4gIHg6IG51bWJlcixcbiAgeTogbnVtYmVyXG59XG5cbmludGVyZmFjZSBJTGluZSBleHRlbmRzIEFycmF5PElEb3Q+IHtcbn1cblxuaW50ZXJmYWNlIElMaW5lcyBleHRlbmRzIEFycmF5PElMaW5lPiB7XG59XG5cbmV4cG9ydCBkZWZhdWx0IGNsYXNzIFNjZW5lIHtcbiAgY3R4OiBDYW52YXNSZW5kZXJpbmdDb250ZXh0MkQ7XG4gIHdpZHRoOiBudW1iZXI7XG4gIGhlaWdodDogbnVtYmVyO1xuICBzcGFjZXI6IG51bWJlcjtcbiAgbGVmdExpbmVzOiBJTGluZXM7XG4gIHJpZ2h0TGluZXM6IElMaW5lcztcbiAgY29uc3RydWN0b3IgKGN0eDogQ2FudmFzUmVuZGVyaW5nQ29udGV4dDJELCBjb25maWc6IGFueSkge1xuICAgIHRoaXMuY3R4ID0gY3R4XG4gICAgT2JqZWN0LmFzc2lnbih0aGlzLCBfZGVmYXVsdCwgY29uZmlnKVxuXG4gICAgLy8g5qC55o2u55S75biD5a695bqm5ZKM5a6e6ZmF5ri45oiP5a695bqm77yM6K6h566X5bem5Y+z55WZ56m65Yy65Z+fXG4gICAgdGhpcy5zcGFjZXIgPSAodGhpcy53aWR0aCAtIEdBTUVfV0lEVEgpIC8gMlxuXG4gICAgLy8g5Yid5aeL5YyWXG4gICAgdGhpcy5pbml0KClcbiAgfVxuXG4gIC8qKlxuICAgKiDliJ3lp4vljJblnLrmma9cbiAgICovXG4gIGluaXQgKCkge1xuICAgIHRoaXMubGVmdExpbmVzID0gdGhpcy5pbml0TGVmdExpbmVzKClcbiAgICB0aGlzLnJpZ2h0TGluZXMgPSB0aGlzLmluaXRSaWdodExpbmVzKClcbiAgfVxuXG4gIC8qKlxuICAgKiDmm7TmlrDlnLrmma9cbiAgICovXG4gIHVwZGF0ZSAoKSB7XG4gICAgdGhpcy5zY2VuZVJvbGxEb3duKHRoaXMubGVmdExpbmVzKVxuICAgIHRoaXMuc2NlbmVSb2xsRG93bih0aGlzLnJpZ2h0TGluZXMpXG5cbiAgICAvLyDmt7vliqDmlrDnmoTot69cbiAgICBpZiAodGhpcy5sZWZ0TGluZXNbMF1bMF0ueSA+IC10aGlzLmhlaWdodCAqIDIpIHtcbiAgICAgIHRoaXMubGVmdExpbmVzLnVuc2hpZnQodGhpcy5nZXRMZWZ0TGluZSh0aGlzLmxlZnRMaW5lc1swXVswXSwgdHJ1ZSkpXG4gICAgICB0aGlzLnJpZ2h0TGluZXMudW5zaGlmdCh0aGlzLmdldFJpZ2h0TGluZSh0aGlzLmxlZnRMaW5lc1swXSwgdGhpcy5yaWdodExpbmVzWzBdWzBdLCB0cnVlKSlcbiAgICB9XG5cbiAgICBpZiAodGhpcy5sZWZ0TGluZXMubGVuZ3RoID49IDMwKSB7XG4gICAgICB0aGlzLmxlZnRMaW5lcyA9IHRoaXMuZmlsdGVyVW51c2FibGVSb2FkKHRoaXMubGVmdExpbmVzKVxuICAgICAgdGhpcy5yaWdodExpbmVzID0gdGhpcy5yaWdodExpbmVzLnNsaWNlKDAsIHRoaXMubGVmdExpbmVzLmxlbmd0aClcbiAgICB9XG4gIH1cblxuICAvKipcbiAgICog5Zy65pmv5LiL5rua77yM5pWw57uE55qEIHkg5aKe5Yqg77yM5bm25oqK6LaF5Ye655S75biD5LiL6L6555WM55qE57q/5riF6Zmk5o6JXG4gICAqIEBwYXJhbSAge0FycmF5fSBhcnIg57q/5pWw57uEXG4gICAqIEByZXR1cm4ge0FycmF5fSAgICAg57q/5pWw57uEXG4gICAqL1xuICBzY2VuZVJvbGxEb3duIChhcnI6IElMaW5lcykge1xuICAgIHJldHVybiBhcnIubWFwKChvYmopID0+IHtcbiAgICAgIG9ialswXS55ICs9IEdBTUVfU1BFRURcbiAgICB9KVxuICB9XG5cbiAgLyoqXG4gICAqIOi/h+a7pOaOieS4jeWPr+eUqOeahOi3r+e6v++8iOi2heWHuuW6lemDqOiMg+WbtFxuICAgKiBAcGFyYW0gIHtBcnJheX0gYXJyIOacqui/h+a7pOaVsOe7hFxuICAgKiBAcmV0dXJuIHtBcnJheX0gICAgIOi/h+a7pOWQjuaVsOe7hFxuICAgKi9cbiAgZmlsdGVyVW51c2FibGVSb2FkIChhcnI6IElMaW5lcyk6IElMaW5lcyB7XG4gICAgcmV0dXJuIGFyci5maWx0ZXIoKG9iajogSUxpbmUpID0+IG9ialswXS55IDwgdGhpcy5oZWlnaHQgKiAyKVxuICB9XG5cbiAgLyoqXG4gICAqIOWIneWni+WMlumBk+i3r+W3puS+p+eahOe6v1xuICAgKiBAcmV0dXJuIHtBcnJheX0g57q/5pWw57uEXG4gICAqL1xuICBpbml0TGVmdExpbmVzICgpOiBJTGluZXMge1xuICAgIGxldCBhcnI6IElMaW5lcyA9IFtbeyB4OiAwLCB5OiAwIH0sIHsgeDogMCwgeTogdGhpcy5oZWlnaHQgfV1dXG4gICAgd2hpbGUgKGFyclswXVswXS55IDwgLXRoaXMuaGVpZ2h0ICogMikge1xuICAgICAgYXJyLnVuc2hpZnQodGhpcy5nZXRMZWZ0TGluZShhcnJbMF1bMF0sIHRydWUpKVxuICAgIH1cbiAgICByZXR1cm4gYXJyXG4gIH1cblxuXG4gIC8qKlxuICAgKiDliJ3lp4vljJbpgZPot6/lj7PkvqfnmoTnur9cbiAgICogQHJldHVybiB7QXJyYXl9IOe6v+aVsOe7hFxuICAgKi9cbiAgaW5pdFJpZ2h0TGluZXMgKCk6IElMaW5lcyB7XG4gICAgbGV0IGFycjogSUxpbmVzID0gW1t7IHg6IHRoaXMud2lkdGgsIHk6IDAgfSwgeyB4OiB0aGlzLndpZHRoLCB5OiB0aGlzLmhlaWdodCB9XV1cbiAgICBmb3IgKGxldCBpID0gdGhpcy5sZWZ0TGluZXMubGVuZ3RoIC0gMjsgaSA+IDA7IGktLSkge1xuICAgICAgYXJyLnVuc2hpZnQodGhpcy5nZXRSaWdodExpbmUodGhpcy5sZWZ0TGluZXNbaV0sIGFycltpIC0gMV1bMV0sIHRydWUpKVxuICAgIH1cbiAgICByZXR1cm4gYXJyXG4gIH1cblxuICAvKipcbiAgICog5b6X5Yiw5LiA5p2h5bem6L6555qE57q/XG4gICAqIEBwYXJhbSAge09iamVjdH0gIGRvdCAgICAgICAg5LiA5Liq54K55Z2Q5qCH5a+56LGh77yM5Li656m65pe25YiZ5qC55o2u6IyD5Zu06ZqP5py65LiA5Liq54K5XG4gICAqIEBwYXJhbSAge0Jvb2xlYW59IGlzUmV2ZXJzZSDmmK/lkKbkuLrlj43mlrnlkJHojrflvpfnur9cbiAgICogQHJldHVybiB7QXJyYXl9ICAgICAgICAgICAgIOS4gOS4quWMheWQq+i1t+eCueWdkOagh+WSjOe7k+adn+WdkOagh+eahOe6v+aVsOe7hCBlZzogW3N0YXJ0RG90LCBlbmREb3RdXG4gICAqL1xuICBnZXRMZWZ0TGluZSAoZG90OiBJRG90LCBpc1JldmVyc2U/OiBCb29sZWFuKTogSUxpbmUge1xuICAgIGxldCBlbmREb3Q6IElEb3QgPSBkb3RcbiAgICBpZiAoaXNSZXZlcnNlKSB7XG4gICAgICBkb3QgPSB0aGlzLmdldExlZnRPdGhlckRvdChlbmREb3QsIGlzUmV2ZXJzZSlcbiAgICB9XG4gICAgZWxzZSBpZiAoZG90KSB7XG4gICAgICBlbmREb3QgPSB0aGlzLmdldExlZnRPdGhlckRvdChkb3QpXG4gICAgfVxuICAgIHJldHVybiBbZG90LCBlbmREb3RdXG4gIH1cblxuICAvKipcbiAgICog5b6X5Yiw5LiA5p2h5Y+z5L6n55qE57q/77yM5qC55o2u5bem5L6n55qE57q/6I635b6XXG4gICAqIEBwYXJhbSAge0FycmF5fSAgbGluZSAgICAgIOW3puS+p+eahOe6v1xuICAgKiBAcGFyYW0gIHtPYmplY3R9ICBkb3QgICAgICAg5LiA5Liq54K55Z2Q5qCH5a+56LGhXG4gICAqIEBwYXJhbSAge0Jvb2xlYW59IGlzUmV2ZXJzZSDmmK/lkKbkuLrlj43mlrnlkJHojrflvpfnur9cbiAgICogQHJldHVybiB7QXJyYXl9ICAgICAgICAgICAg5LiA5Liq5YyF5ZCr6LW354K55Z2Q5qCH5ZKM57uT5p2f5Z2Q5qCH55qE57q/5pWw57uEIGVnOiBbc3RhcnREb3QsIGVuZERvdF1cbiAgICovXG4gIGdldFJpZ2h0TGluZSAobGluZTogSUxpbmUsIGRvdDogSURvdCwgaXNSZXZlcnNlPzogQm9vbGVhbik6IElMaW5lIHtcbiAgICByZXR1cm4gaXNSZXZlcnNlID8gW3RoaXMuZ2V0UmlnaHREb3QobGluZVswXSksIGRvdF0gOiBbZG90IHx8IHRoaXMuZ2V0UmlnaHREb3QobGluZVswXSksIHRoaXMuZ2V0UmlnaHREb3QobGluZVsxXSldXG4gIH1cblxuICAvKipcbiAgICog5riy5p+T5Zy65pmvXG4gICAqL1xuICByZW5kZXIgKCkge1xuICAgIHRoaXMucmVuZGVyV2FsbCgpXG4gICAgdGhpcy5yZW5kZXJSb2FkKClcbiAgfVxuXG4gIC8qKlxuICAgKiDmuLLmn5PpgZPot69cbiAgICovXG4gIHJlbmRlclJvYWQgKCkge1xuICAgIHRoaXMuY3R4LmZpbGxTdHlsZSA9IFJPQURfQ09MT1JcbiAgICB0aGlzLmNvbm5lY3RSb2FkUGF0aCgpXG4gICAgdGhpcy5jdHguZmlsbCgpXG4gIH1cblxuICAvKipcbiAgICog6L+e5o6l6YGT6Lev55qE6Lev5b6E77yM5bCG5bem5L6n5ZKM5Y+z5L6n57q/5pWw57uE6L+e5o6l5oiQ5LiA6LW3XG4gICAqIEByZXR1cm4ge1t0eXBlXX0gW2Rlc2NyaXB0aW9uXVxuICAgKi9cbiAgY29ubmVjdFJvYWRQYXRoICgpIHtcbiAgICB0aGlzLmN0eC5zYXZlKClcblxuICAgIHRoaXMuY3R4LmJlZ2luUGF0aCgpXG4gICAgdGhpcy5jb25uZWN0TGluZSh0aGlzLmxlZnRMaW5lc1swXVswXSwgdGhpcy5sZWZ0TGluZXNbMF1bMV0pXG4gICAgQXJyYXkuZnJvbSh0aGlzLmxlZnRMaW5lcywgKG9iajogSUxpbmUpID0+IHtcbiAgICAgIHRoaXMuY29ubmVjdExpbmUob2JqWzBdLCBvYmpbMV0pXG4gICAgfSlcbiAgICB0aGlzLmNvbm5lY3RMaW5lKHRoaXMubGVmdExpbmVzW3RoaXMubGVmdExpbmVzLmxlbmd0aCAtIDFdWzFdLCB0aGlzLnJpZ2h0TGluZXNbdGhpcy5yaWdodExpbmVzLmxlbmd0aCAtIDFdWzFdKVxuICAgIGZvciAobGV0IGkgPSB0aGlzLnJpZ2h0TGluZXMubGVuZ3RoIC0gMTsgaSA+IDA7IGktLSkge1xuICAgICAgbGV0IG9iaiA9IHRoaXMucmlnaHRMaW5lc1tpXVxuICAgICAgdGhpcy5jb25uZWN0TGluZShvYmpbMV0sIG9ialswXSlcbiAgICB9XG4gICAgdGhpcy5jb25uZWN0TGluZSh0aGlzLnJpZ2h0TGluZXNbMF1bMF0sIHRoaXMubGVmdExpbmVzWzBdWzBdKVxuXG4gICAgdGhpcy5jdHgucmVzdG9yZSgpXG4gIH1cblxuICAvKipcbiAgICog5qC55o2u5Lik5Liq54K56L+e5oiQ5LiA5p2h57q/XG4gICAqIEBwYXJhbSAge09iamVjdH0gZG90MSAg6LW35aeL54K5XG4gICAqIEBwYXJhbSAge09iamVjdH0gZG90MiAg57uI5q2i54K5XG4gICAqL1xuICBjb25uZWN0TGluZSAoZG90MTogSURvdCwgZG90MjogSURvdCkge1xuICAgIHRoaXMuY3R4LmxpbmVUbyhkb3QxLngsIGRvdDEueSlcbiAgICB0aGlzLmN0eC5saW5lVG8oZG90Mi54LCBkb3QyLnkpXG4gIH1cblxuICAvKipcbiAgICog55S75aKZXG4gICAqL1xuICByZW5kZXJXYWxsICgpIHtcbiAgICB0aGlzLmN0eC5zYXZlKClcbiAgICBBcnJheS5mcm9tKHRoaXMubGVmdExpbmVzLmNvbmNhdCh0aGlzLnJpZ2h0TGluZXMpLCAob2JqKSA9PiB7XG4gICAgICBsZXQgW2RvdDEsIGRvdDJdID0gb2JqXG4gICAgICBsZXQgV0FMTF9IRUlHSFQgPSB0aGlzLmhlaWdodCAvIDJcblxuICAgICAgbGV0IGdyZCA9IHRoaXMuY3R4LmNyZWF0ZUxpbmVhckdyYWRpZW50KGRvdDEueCwgZG90MS55LCBkb3QyLnggKyBXQUxMX0hFSUdIVCwgZG90Mi55ICsgV0FMTF9IRUlHSFQpXG4gICAgICBncmQuYWRkQ29sb3JTdG9wKDAsIFdBTExfQ09MT1IpXG4gICAgICBncmQuYWRkQ29sb3JTdG9wKDEsICd0cmFuc3BhcmVudCcpXG5cbiAgICAgIHRoaXMuY3R4LmZpbGxTdHlsZSA9IGdyZFxuICAgICAgdGhpcy5jdHguc2F2ZSgpXG4gICAgICB0aGlzLmN0eC5iZWdpblBhdGgoKVxuICAgICAgdGhpcy5jdHgubW92ZVRvKGRvdDEueCwgZG90MS55KVxuICAgICAgdGhpcy5jdHgubGluZVRvKGRvdDIueCwgZG90Mi55KVxuICAgICAgdGhpcy5jdHgubGluZVRvKGRvdDIueCwgZG90Mi55ICsgV0FMTF9IRUlHSFQpXG4gICAgICB0aGlzLmN0eC5saW5lVG8oZG90MS54LCBkb3QxLnkgKyBXQUxMX0hFSUdIVClcbiAgICAgIHRoaXMuY3R4LnJlc3RvcmUoKVxuICAgICAgdGhpcy5jdHguZmlsbCgpXG4gICAgfSlcbiAgICB0aGlzLmN0eC5yZXN0b3JlKClcbiAgfVxuXG4gIC8qKlxuICAgKiDmoLnmja7kuIDkuKrngrnvvIzojrflj5blj6blpJbkuIDkuKrngrlcbiAgICogQHBhcmFtICB7T2JqZWN0fSAgZG90ICAgICAgIOeCueWdkOagh+WvueixoVxuICAgKiBAcGFyYW0gIHtCb29sZWFufSBpc1JldmVyc2Ug5piv5ZCm5Y+N5pa55ZCR6I635Y+W57q/XG4gICAqIEByZXR1cm4ge1t0eXBlXX0gICAgICAgICAgICBbZGVzY3JpcHRpb25dXG4gICAqL1xuICBnZXRMZWZ0T3RoZXJEb3QgKGRvdDogSURvdCwgaXNSZXZlcnNlPzogQm9vbGVhbik6IElEb3Qge1xuICAgIHJldHVybiB7XG4gICAgICB4OiBkb3QueCA+IHRoaXMud2lkdGggLyAyID8gdGhpcy5nZXRSYW5kb20odGhpcy5zcGFjZXIsIHRoaXMud2lkdGggLyAyIC0gQkFOX01JRF9SQU5HRSAvIDIpIDogdGhpcy5nZXRSYW5kb20odGhpcy53aWR0aCAvIDIgKyBCQU5fTUlEX1JBTkdFIC8gMiwgdGhpcy53aWR0aCAtIE1BWF9ST0FEX1dJRFRIIC0gdGhpcy5zcGFjZXIpLFxuICAgICAgeTogZG90LnkgKyAodGhpcy5nZXRSYW5kb20oTUlOX0xFTkdUSCwgTUFYX0xFTkdUSCkgKiAoaXNSZXZlcnNlID8gLTEgOiAxKSlcbiAgICB9XG4gIH1cblxuICAvKipcbiAgICog5b6X5Yiw5Y+z5L6n55qE54K5XG4gICAqIEBwYXJhbSAge09iamVjdH0gZG90IOS4gOS4quW3puS+p+eahOWdkOagh+eCuVxuICAgKiBAcmV0dXJuIHtPYmplY3R9ICAgICDkuIDkuKrlj7PkvqfnmoTlnZDmoIfngrlcbiAgICovXG4gIGdldFJpZ2h0RG90IChkb3Q6IElEb3QpOiBJRG90IHtcbiAgICByZXR1cm4ge1xuICAgICAgeDogdGhpcy5nZXRSYW5kb20oZG90LnggKyBNSU5fUk9BVF9XSURUSCwgZG90LnggKyBNQVhfUk9BRF9XSURUSCksXG4gICAgICB5OiBkb3QueVxuICAgIH1cbiAgfVxuXG4gIC8qKlxuICAgKiDmoLnmja7ojIPlm7TvvIzojrflvpfkuIDkuKrpmo/mnLrmlbBcbiAgICogQHBhcmFtICB7TnVtYmVyfSBtaW4g6IyD5Zu05pyA5bCP5YC8XG4gICAqIEBwYXJhbSAge051bWJlcn0gbWF4IOiMg+WbtOacgOWkp+WAvFxuICAgKiBAcmV0dXJuIHtOdW1iZXJ9ICAgICDpmo/mnLrmlbBcbiAgICovXG4gIGdldFJhbmRvbSAobWluOiBudW1iZXIsIG1heDogbnVtYmVyKTogbnVtYmVyIHtcbiAgICByZXR1cm4gfn4oTWF0aC5yYW5kb20oKSAqIChtYXggLSBtaW4pKSArIG1pblxuICB9XG59IiwiLyoqXG4gKiBCYWxsUnVubmVyLmpzXG4gKiDkuIDkuKrlsI/nkIPmu5rliqjnmoQgQ2FudmFzIOa4uOaIj1xuICovXG5cbmltcG9ydCBCYWxsIGZyb20gJy4vYmFsbCdcbmltcG9ydCBTY2VuZSBmcm9tICcuL3NjZW5lJ1xuaW1wb3J0IHsgRFBSLCBNQVhfQkFMTF9QRVJfRElTVEFOQ0UsIEJHX0NPTE9SLCBCQUxMX1JBRElVUyB9IGZyb20gJy4vY29uZmlndXJhdGlvbidcblxuY29uc3QgX2RlZmF1bHQgPSB7XG4gIHdpZHRoOiA2MDAsXG4gIGhlaWdodDogNTAwLFxuICBnYW1lT3ZlcjogbnVsbFxufVxuXG5leHBvcnQgZGVmYXVsdCBjbGFzcyBCYWxsUnVubmVyIHtcbiAgY29uZmlnOiB7XG4gICAgd2lkdGg6IG51bWJlcixcbiAgICBoZWlnaHQ6IG51bWJlcixcbiAgICBnYW1lT3Zlcj86IEZ1bmN0aW9uIHwgbnVsbFxuICB9O1xuICBjYW52YXM6IEhUTUxDYW52YXNFbGVtZW50IHwgbnVsbDtcbiAgY3R4OiBDYW52YXNSZW5kZXJpbmdDb250ZXh0MkQ7XG4gIHdpZHRoOiBudW1iZXI7XG4gIGhlaWdodDogbnVtYmVyO1xuICBib3VuZHM6IHtcbiAgICBsZWZ0OiBudW1iZXIsXG4gICAgdG9wOiBudW1iZXJcbiAgfTtcbiAgc3RhcnRTaWduOiBCb29sZWFuO1xuICBwb2ludDogbnVtYmVyID0gMDtcbiAgcHJpdmF0ZSBfbXg6IG51bWJlciA9IDA7XG4gIGJhbGw6IEJhbGw7XG4gIHNjZW5lOiBTY2VuZTtcblxuICBjb25zdHJ1Y3RvciAoaWQ6IHN0cmluZywgY29uZmlnPzogb2JqZWN0KSB7XG4gICAgdGhpcy5jb25maWcgPSBPYmplY3QuYXNzaWduKHt9LCBfZGVmYXVsdCwgY29uZmlnKVxuXG4gICAgLy8g5Yid5aeL5YyWXG4gICAgdGhpcy5pbml0KGlkKVxuICAgIHRoaXMuaW5pdEdhbWUoKVxuXG4gICAgLy8g57uR5a6a5LqL5Lu2XG4gICAgdGhpcy5tb3ZlQmFsbCA9IHRoaXMubW92ZUJhbGwuYmluZCh0aGlzKVxuICAgIHRoaXMuYmluZEV2ZW50KClcbiAgfVxuXG4gIC8qKlxuICAgKiDliJ3lp4vljJYgQ2FudmFzXG4gICAqL1xuICBpbml0IChpZDogc3RyaW5nKTogdm9pZCB7XG4gICAgaWYgKCFpZCkge1xuICAgICAgcmV0dXJuIGNvbnNvbGUuZXJyb3IoJ1tCYWxsUnVubmVyLmpzXSBwYXJhbSBpZCBpcyB0aGUgcmVxdWlyZWQuJylcbiAgICB9XG5cbiAgICB0aGlzLmNhbnZhcyA9IDxIVE1MQ2FudmFzRWxlbWVudD4gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoaWQpXG5cbiAgICBpZiAoIXRoaXMuY2FudmFzKSB7XG4gICAgICByZXR1cm4gY29uc29sZS5lcnJvcignW0JhbGxSdW5uZXIuanNdIENvdWxkIG5vdCBmaW5kIHRoZSBjYW52YXMgZWxlbWVudC4nKVxuICAgIH1cblxuICAgIHRoaXMuY3R4ID0gPENhbnZhc1JlbmRlcmluZ0NvbnRleHQyRD4gdGhpcy5jYW52YXMuZ2V0Q29udGV4dCgnMmQnKVxuXG4gICAgLy8g5LmY5LulRFBS5piv5Li65LqG5Zyo6auY5YCN5YiG6L6o546H5LiL5L+d5oyB6auY5riFXG4gICAgdGhpcy5jYW52YXMud2lkdGggPSB0aGlzLndpZHRoID0gKHRoaXMuY29uZmlnLndpZHRoIHx8IHRoaXMuY2FudmFzLm9mZnNldFdpZHRoKSAqIERQUlxuICAgIHRoaXMuY2FudmFzLmhlaWdodCA9IHRoaXMuaGVpZ2h0ID0gKHRoaXMuY29uZmlnLmhlaWdodCB8fCB0aGlzLmNhbnZhcy5vZmZzZXRIZWlnaHQpICogRFBSXG4gICAgdGhpcy5jYW52YXMuc3R5bGUud2lkdGggPSBgJHt0aGlzLndpZHRoIC8gRFBSfXB4YFxuICAgIHRoaXMuY2FudmFzLnN0eWxlLmhlaWdodCA9IGAke3RoaXMuaGVpZ2h0IC8gRFBSfXB4YFxuICAgIHRoaXMuYm91bmRzID0gdGhpcy5jYW52YXMuZ2V0Qm91bmRpbmdDbGllbnRSZWN0KClcbiAgfVxuXG4gIC8qKlxuICAgKiDliJ3lp4vljJbmuLjmiI9cbiAgICovXG4gIGluaXRHYW1lICgpIHtcbiAgICBpZiAoIXRoaXMuY3R4KSB7XG4gICAgICByZXR1cm4gY29uc29sZS5lcnJvcignW0JhbGxSdW5uZXIuanNdIENvdWxkIG5vdCBmaW5kIHRoZSBjYW52YXMgZWxlbWVudC4nKVxuICAgIH1cblxuICAgIHRoaXMuc3RhcnRTaWduID0gZmFsc2VcbiAgICB0aGlzLl9teCA9IDBcbiAgICB0aGlzLnBvaW50ID0gMFxuXG4gICAgLy8g55Sf5oiQ55CDXG4gICAgdGhpcy5iYWxsID0gbmV3IEJhbGwodGhpcy5jdHgsIHtcbiAgICAgIHg6IHRoaXMud2lkdGggLyAyLFxuICAgICAgeTogdGhpcy5oZWlnaHQgLyAyXG4gICAgfSlcblxuICAgIC8vIOeUn+aIkOWcuuaZr1xuICAgIHRoaXMuc2NlbmUgPSBuZXcgU2NlbmUodGhpcy5jdHgsIHtcbiAgICAgIHdpZHRoOiB0aGlzLndpZHRoLFxuICAgICAgaGVpZ2h0OiB0aGlzLmhlaWdodFxuICAgIH0pXG5cbiAgICAvLyDlvIDlp4vmuLLmn5NcbiAgICB0aGlzLnJlbmRlcigpXG4gIH1cblxuICAvKipcbiAgICog57uR5a6a5LqL5Lu2XG4gICAqL1xuICBiaW5kRXZlbnQgKCkge1xuICAgIGlmICghdGhpcy5jYW52YXMpIHtcbiAgICAgIHJldHVybiBjb25zb2xlLmVycm9yKCdbQmFsbFJ1bm5lci5qc10gQ291bGQgbm90IGZpbmQgdGhlIGNhbnZhcyBlbGVtZW50LicpXG4gICAgfVxuICAgIHRoaXMuY2FudmFzLmFkZEV2ZW50TGlzdGVuZXIoJ21vdXNlbW92ZScsIHRoaXMubW92ZUJhbGwpXG4gICAgdGhpcy5jYW52YXMuYWRkRXZlbnRMaXN0ZW5lcigndG91Y2htb3ZlJywgdGhpcy5tb3ZlQmFsbClcbiAgfVxuXG4gIC8qKlxuICAgKiDop6PpmaTnu5Hlrprkuovku7ZcbiAgICovXG4gIHVuYmluZEV2ZW50ICgpIHtcbiAgICBpZiAoIXRoaXMuY2FudmFzKSB7XG4gICAgICByZXR1cm4gY29uc29sZS5lcnJvcignW0JhbGxSdW5uZXIuanNdIENvdWxkIG5vdCBmaW5kIHRoZSBjYW52YXMgZWxlbWVudC4nKVxuICAgIH1cbiAgICB0aGlzLmNhbnZhcy5yZW1vdmVFdmVudExpc3RlbmVyKCdtb3VzZW1vdmUnLCB0aGlzLm1vdmVCYWxsKVxuICAgIHRoaXMuY2FudmFzLnJlbW92ZUV2ZW50TGlzdGVuZXIoJ3RvdWNobW92ZScsIHRoaXMubW92ZUJhbGwpXG4gIH1cblxuICAvKipcbiAgICog5o6n5Yi25bCP55CD5bem5Y+z56e75YqoXG4gICAqL1xuICBtb3ZlQmFsbCAoZTogYW55KSB7XG4gICAgaWYgKCF0aGlzLnN0YXJ0U2lnbikge1xuICAgICAgcmV0dXJuXG4gICAgfVxuXG4gICAgZS5wcmV2ZW50RGVmYXVsdCgpXG4gICAgaWYgKGUudGFyZ2V0VG91Y2hlcyAmJiBlLnRhcmdldFRvdWNoZXNbMF0pIGUgPSBlLnRhcmdldFRvdWNoZXNbMF1cbiAgICB0aGlzLl9teCA9IChlLmNsaWVudFggLSB0aGlzLmJvdW5kcy5sZWZ0KSAqIERQUlxuICB9XG5cbiAgLyoqXG4gICAqIOa4uOaIj+W8gOWni1xuICAgKi9cbiAgc3RhcnQgKCkge1xuICAgIGlmICh0aGlzLnN0YXJ0U2lnbikge1xuICAgICAgcmV0dXJuIGZhbHNlXG4gICAgfVxuXG4gICAgdGhpcy5zdGFydFNpZ24gPSB0cnVlXG4gICAgY29uc3Qgc3RlcCA9ICgpID0+IHtcbiAgICAgIGlmICghdGhpcy5zdGFydFNpZ24pIHtcbiAgICAgICAgcmV0dXJuIGZhbHNlXG4gICAgICB9XG4gICAgICB0aGlzLnBvaW50KytcbiAgICAgIHRoaXMudXBkYXRlKClcbiAgICAgIHRoaXMucmVuZGVyKClcbiAgICAgIGlmICghdGhpcy5pblJvYWQoKSkge1xuICAgICAgICB0aGlzLmNvbmZpZy5nYW1lT3ZlciAmJiB0aGlzLmNvbmZpZy5nYW1lT3Zlcih0aGlzLnBvaW50KVxuICAgICAgICB0aGlzLmluaXRHYW1lKClcbiAgICAgIH1cbiAgICAgIHJlcXVlc3RBbmltYXRpb25GcmFtZShzdGVwKVxuICAgIH1cblxuICAgIHJlcXVlc3RBbmltYXRpb25GcmFtZShzdGVwKVxuICB9XG5cbiAgLyoqXG4gICAqIOa4uOaIj+aaguWBnFxuICAgKi9cbiAgcGF1c2UgKCkge1xuICAgIHRoaXMuc3RhcnRTaWduID0gZmFsc2VcbiAgfVxuXG4gIC8qKlxuICAgKiDmm7TmlrDmuLjmiI9cbiAgICovXG4gIHVwZGF0ZSAoKSB7XG4gICAgdGhpcy51cGRhdGVTY2VuZSgpXG4gICAgdGhpcy51cGRhdGVCYWxsKClcbiAgfVxuXG4gIC8qKlxuICAgKiDliKTmlq3lsI/nkIPmmK/lkKblnKjot6/lvoTkuK1cbiAgICovXG4gIGluUm9hZCAoKTogQm9vbGVhbiB7XG4gICAgdGhpcy5zY2VuZS5jb25uZWN0Um9hZFBhdGgoKVxuICAgIHJldHVybiB0aGlzLmN0eC5pc1BvaW50SW5QYXRoKHRoaXMuYmFsbC54LCB0aGlzLmJhbGwueSArIEJBTExfUkFESVVTKVxuICB9XG5cbiAgLyoqXG4gICAqIOabtOaWsOS4queQg1xuICAgKi9cbiAgdXBkYXRlQmFsbCAoKSB7XG4gICAgaWYgKCF0aGlzLl9teCkge1xuICAgICAgcmV0dXJuIGZhbHNlXG4gICAgfVxuXG4gICAgbGV0IGRpZmYgPSB0aGlzLl9teCAtIHRoaXMuYmFsbC54XG4gICAgbGV0IGRpcmVjdGlvbiA9IGRpZmYgPCAwID8gLTEgOiAxXG4gICAgdGhpcy5iYWxsLnVwZGF0ZUJhbGxQb3ModGhpcy5iYWxsLnggKyBkaXJlY3Rpb24gKiAoKE1hdGguYWJzKGRpZmYpIC8gdGhpcy53aWR0aCkgKiBNQVhfQkFMTF9QRVJfRElTVEFOQ0UpKVxuICB9XG5cbiAgLyoqXG4gICAqIOabtOaWsOWcuuaZr1xuICAgKi9cbiAgdXBkYXRlU2NlbmUgKCkge1xuICAgIHRoaXMuc2NlbmUudXBkYXRlKClcbiAgfVxuXG4gIC8qKlxuICAgKiDmuLLmn5PnlLvluINcbiAgICovXG4gIHJlbmRlciAoKSB7XG4gICAgdGhpcy5yZW5kZXJCYWNrZ3JvdW5kKClcbiAgICB0aGlzLnJlbmRlclNjZW5lKClcbiAgICB0aGlzLnJlbmRlckJhbGwoKVxuICAgIHRoaXMucmVuZGVyUG9pbnQoKVxuICB9XG5cbiAgLyoqXG4gICAqIOeUu+S4quiDjOaZr1xuICAgKi9cbiAgcmVuZGVyQmFja2dyb3VuZCAoKSB7XG4gICAgdGhpcy5jdHguZmlsbFN0eWxlID0gQkdfQ09MT1JcbiAgICB0aGlzLmN0eC5maWxsUmVjdCgwLCAwLCB0aGlzLndpZHRoLCB0aGlzLmhlaWdodClcbiAgfVxuXG4gIC8qKlxuICAgKiDnlLvkuKrlnLrmma9cbiAgICovXG4gIHJlbmRlclNjZW5lICgpIHtcbiAgICB0aGlzLnNjZW5lLnJlbmRlcigpXG4gIH1cblxuICAvKipcbiAgICog55S75Liq55CDXG4gICAqL1xuICByZW5kZXJCYWxsICgpIHtcbiAgICB0aGlzLmJhbGwucmVuZGVyKClcbiAgfVxuXG4gIC8qKlxuICAgKiDnlLvkuKrliIbmlbBcbiAgICovXG4gIHJlbmRlclBvaW50ICgpIHtcbiAgICB0aGlzLmN0eC5zYXZlKClcblxuICAgIHRoaXMuY3R4LmZvbnQgPSAnbm9ybWFsIDUwcHggRElOQWx0ZXJuYXRlLUJvbGQnXG4gICAgdGhpcy5jdHgudGV4dEFsaWduID0gJ3JpZ2h0J1xuICAgIHRoaXMuY3R4LmZpbGxTdHlsZSA9ICcjZmZmJ1xuICAgIHRoaXMuY3R4LmZpbGxUZXh0KGAke3RoaXMucG9pbnR9YCwgdGhpcy53aWR0aCAtIDEwLCA1MClcblxuICAgIHRoaXMuY3R4LnJlc3RvcmUoKVxuICB9XG59XG4iLCJpbXBvcnQgJy4uL3N0eWxlcy9pbmRleC5zY3NzJ1xuXG5pbXBvcnQgQmFsbFJ1bm5lciBmcm9tICcuL21vZHVsZXMvQmFsbFJ1bm5lcidcblxuY29uc3QgaW5pdEdhbWUgPSAoKSA9PiB7XG4gIGxldCB3cmFwID0gPEhUTUxFbGVtZW50PiBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCcuZ2FtZS13cmFwJylcbiAgbGV0IGNvdmVyID0gPEhUTUxFbGVtZW50PiB3cmFwLnF1ZXJ5U2VsZWN0b3IoJy5nYW1lLWNvdmVyJylcblxuICBsZXQgZ2FtZSA9IG5ldyBCYWxsUnVubmVyKCdiYWxsLXJ1bm5lcicsIHtcbiAgICB3aWR0aDogJ29udG91Y2htb3ZlJyBpbiB3aW5kb3cgPyBkb2N1bWVudC5ib2R5Lm9mZnNldFdpZHRoIDogNjAwLFxuICAgIGhlaWdodDogJ29udG91Y2htb3ZlJyBpbiB3aW5kb3cgPyBkb2N1bWVudC5ib2R5Lm9mZnNldEhlaWdodCA6IDUwMCxcbiAgICBnYW1lT3ZlciAocG9pbnQ6IG51bWJlcik6IHZvaWQge1xuICAgICAgY292ZXIuaW5uZXJIVE1MID0gYDxzbWFsbD5Zb3VyIFBvaW50OiAke3BvaW50fTwvc21hbGw+PGJyIC8+IENsaWNrIHRvIHJlc3RhcnRgXG4gICAgICBjb3Zlci5zdHlsZS5kaXNwbGF5ID0gJ2ZsZXgnXG4gICAgfVxuICB9KVxuXG4gIHdyYXAub25jbGljayA9ICgpID0+IHtcbiAgICBpZiAoZ2FtZS5zdGFydFNpZ24pIHtcbiAgICAgIGNvdmVyLnN0eWxlLmRpc3BsYXkgPSAnZmxleCdcbiAgICAgIGNvdmVyLmlubmVySFRNTCA9ICdDbGljayB0byBjb250aW51ZSdcbiAgICAgIGdhbWUucGF1c2UoKVxuICAgIH1cbiAgICBlbHNlIHtcbiAgICAgIGNvdmVyLnN0eWxlLmRpc3BsYXkgPSAnbm9uZSdcbiAgICAgIGdhbWUuc3RhcnQoKVxuICAgIH1cbiAgfVxufVxuXG5pbml0R2FtZSgpIl0sIm5hbWVzIjpbIkRQUiIsIndpbmRvdyIsImRldmljZVBpeGVsUmF0aW8iLCJCR19DT0xPUiIsIlJPQURfQ09MT1IiLCJXQUxMX0NPTE9SIiwiR0FNRV9XSURUSCIsIkdBTUVfU1BFRUQiLCJNQVhfQkFMTF9QRVJfRElTVEFOQ0UiLCJNQVhfUk9BRF9XSURUSCIsIk1JTl9ST0FUX1dJRFRIIiwiQkFOX01JRF9SQU5HRSIsIk1BWF9MRU5HVEgiLCJNSU5fTEVOR1RIIiwiQkFMTF9SQURJVVMiLCJUQUlMX0xFTkdUSCIsIlRBSUxfRElTVCIsIlRBSUxfV0lEVEgiLCJfZGVmYXVsdCIsImN0eCIsImNvbmZpZyIsImFzc2lnbiIsInRhaWxzIiwiaW5pdFRhaWwiLCJ4IiwieSIsInN0YXJ0UG9zIiwiaSIsInB1c2giLCJwb3MiLCJhIiwibGVuZ3RoIiwiYiIsInJlbmRlclNoYWRvdyIsInJlbmRlckJhbGwiLCJncmQiLCJjcmVhdGVMaW5lYXJHcmFkaWVudCIsImFkZENvbG9yU3RvcCIsImZpbGxTdHlsZSIsImJlZ2luUGF0aCIsImFyYyIsIk1hdGgiLCJQSSIsImZpbGwiLCJzYXZlIiwic2NhbGUiLCJjbG9zZVBhdGgiLCJyZXN0b3JlIiwiZW5kUG9zIiwic3Ryb2tlU3R5bGUiLCJsaW5lV2lkdGgiLCJsaW5lQ2FwIiwibW92ZVRvIiwibGluZVRvIiwic3Ryb2tlIiwic3BhY2VyIiwid2lkdGgiLCJpbml0IiwibGVmdExpbmVzIiwiaW5pdExlZnRMaW5lcyIsInJpZ2h0TGluZXMiLCJpbml0UmlnaHRMaW5lcyIsInNjZW5lUm9sbERvd24iLCJoZWlnaHQiLCJ1bnNoaWZ0IiwiZ2V0TGVmdExpbmUiLCJnZXRSaWdodExpbmUiLCJmaWx0ZXJVbnVzYWJsZVJvYWQiLCJzbGljZSIsImFyciIsIm1hcCIsIm9iaiIsImZpbHRlciIsImRvdCIsImlzUmV2ZXJzZSIsImVuZERvdCIsImdldExlZnRPdGhlckRvdCIsImxpbmUiLCJnZXRSaWdodERvdCIsInJlbmRlcldhbGwiLCJyZW5kZXJSb2FkIiwiY29ubmVjdFJvYWRQYXRoIiwiY29ubmVjdExpbmUiLCJmcm9tIiwiZG90MSIsImRvdDIiLCJjb25jYXQiLCJXQUxMX0hFSUdIVCIsImdldFJhbmRvbSIsIm1pbiIsIm1heCIsInJhbmRvbSIsImlkIiwiT2JqZWN0IiwiaW5pdEdhbWUiLCJtb3ZlQmFsbCIsImJpbmQiLCJiaW5kRXZlbnQiLCJjb25zb2xlIiwiZXJyb3IiLCJjYW52YXMiLCJkb2N1bWVudCIsImdldEVsZW1lbnRCeUlkIiwiZ2V0Q29udGV4dCIsIm9mZnNldFdpZHRoIiwib2Zmc2V0SGVpZ2h0Iiwic3R5bGUiLCJib3VuZHMiLCJnZXRCb3VuZGluZ0NsaWVudFJlY3QiLCJzdGFydFNpZ24iLCJfbXgiLCJwb2ludCIsImJhbGwiLCJCYWxsIiwic2NlbmUiLCJTY2VuZSIsInJlbmRlciIsImFkZEV2ZW50TGlzdGVuZXIiLCJyZW1vdmVFdmVudExpc3RlbmVyIiwiZSIsInByZXZlbnREZWZhdWx0IiwidGFyZ2V0VG91Y2hlcyIsImNsaWVudFgiLCJsZWZ0Iiwic3RlcCIsInVwZGF0ZSIsImluUm9hZCIsImdhbWVPdmVyIiwidXBkYXRlU2NlbmUiLCJ1cGRhdGVCYWxsIiwiaXNQb2ludEluUGF0aCIsImRpZmYiLCJkaXJlY3Rpb24iLCJ1cGRhdGVCYWxsUG9zIiwiYWJzIiwicmVuZGVyQmFja2dyb3VuZCIsInJlbmRlclNjZW5lIiwicmVuZGVyUG9pbnQiLCJmaWxsUmVjdCIsImZvbnQiLCJ0ZXh0QWxpZ24iLCJmaWxsVGV4dCIsIndyYXAiLCJxdWVyeVNlbGVjdG9yIiwiY292ZXIiLCJnYW1lIiwiQmFsbFJ1bm5lciIsImJvZHkiLCJpbm5lckhUTUwiLCJkaXNwbGF5Iiwib25jbGljayIsInBhdXNlIiwic3RhcnQiXSwibWFwcGluZ3MiOiI7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7QUFBQTs7O0FBSUEsQUFBTyxJQUFNQSxNQUFNQyxPQUFPQyxnQkFBUCxJQUEyQixDQUF2QztBQUNQLEFBQU8sSUFBTUMsV0FBVyxTQUFqQjtBQUNQLEFBQU8sSUFBTUMsYUFBYSxTQUFuQjtBQUNQLEFBQU8sSUFBTUMsYUFBYSxTQUFuQjtBQUNQLEFBQU8sSUFBTUMsYUFBYSxNQUFNTixHQUF6QjtBQUNQLEFBQU8sSUFBTU8sYUFBYSxJQUFJUCxHQUF2QjtBQUNQLEFBQU8sSUFBTVEsd0JBQXdCLEtBQUtSLEdBQW5DO0FBQ1AsQUFBTyxJQUFNUyxpQkFBaUIsTUFBTVQsR0FBN0I7QUFDUCxBQUFPLElBQU1VLGlCQUFpQixLQUFLVixHQUE1QjtBQUNQLEFBQU8sSUFBTVcsZ0JBQWdCLEtBQUtYLEdBQTNCO0FBQ1AsQUFBTyxJQUFNWSxhQUFhLE1BQU1aLEdBQXpCO0FBQ1AsQUFBTyxJQUFNYSxhQUFhLEtBQUtiLEdBQXhCO0FBQ1AsQUFBTyxJQUFNYyxjQUFjLElBQUlkLEdBQXhCO0FBQ1AsQUFBTyxJQUFNZSxjQUFjLE1BQU1mLEdBQTFCO0FBQ1AsQUFBTyxJQUFNZ0IsWUFBWSxJQUFJaEIsR0FBdEI7QUFDUCxBQUFPLElBQU1pQixhQUFhLElBQUlqQixHQUF2Qjs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7O0FDbkJQOzs7O0FBS0EsSUFBTWtCLGFBQVc7T0FDWixDQURZO09BRVo7Q0FGTDtBQUtBO2tCQVllQyxHQUFiLEVBQTRDQyxNQUE1Qzs7O2FBQ09ELEdBQUwsR0FBV0Es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
