<!DOCTYPE html>
<html lang="en">

<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Loading Page</title>
  <link rel='stylesheet' href='https://fonts.googleapis.com/css2?family=Varela+Round&amp;display=swap'>
  <link rel="stylesheet" href="./style.css">
</head>

<body>
  <div id="loading-text" style="text-align:center;clear:both;"></div>
  <div id="ip-text" style="text-align:center;clear:both;"></div>

  <script>
    var text = "加载中...";
    var ipText = "IP已记录：" + getFakeIP(); // 使用 getFakeIP() 函数获取假的IP地址
    var delay = 300; // Delay between each character display in milliseconds

    function displayText(element, targetText) {
      var currentTextLength = element.innerHTML.length;

      if (currentTextLength < targetText.length) {
        element.innerHTML = targetText.slice(0, currentTextLength + 1);

        setTimeout(function () {
          displayText(element, targetText);
        }, delay);
      }
    }

    // 获取假的IP地址
    function getFakeIP() {
      var ipSegments = Array(4).fill(0).map(function () {
        return Math.floor(Math.random() * 256);
      });

      return ipSegments.join('.');
    }

    displayText(document.getElementById("loading-text"), text);

    setTimeout(function () {
      var element = document.getElementById("ip-text");
      element.innerHTML = ipText;
      displayText(element, ipText);
    }, 3000);

    var countDownSeconds = 5;
    var countDownElement = document.createElement("div");
    countDownElement.id = "countdown";
    countDownElement.style.textAlign = "center";
    document.body.appendChild(countDownElement);

    var countDownInterval = setInterval(function () {
      countDownSeconds--;
      countDownElement.innerHTML = "还需 " + countDownSeconds + " 秒跳转";
      if (countDownSeconds <= 0) {
        clearInterval(countDownInterval);
        // 在这里执行跳转的代码
        window.location.href = "pc.html"; // 直接跳转到pc.html
      }
    }, 1000);
  </script>

  <script>
    // 这里添加你的其他脚本或代码

    document.addEventListener("DOMContentLoaded", function () {
      var sjPage = "sj.html";
      var pcPage = "pc.html";
      var xhr = new XMLHttpRequest();
      xhr.open("HEAD", sjPage, true);
      xhr.onload = function () {
        if (xhr.status == 404) {
          xhr.open("HEAD", pcPage, true);
          xhr.onload = function () {
            if (xhr.status == 404) {
              var notFoundDiv = document.createElement("div");
              notFoundDiv.innerHTML = "网页不存在";
              document.body.appendChild(notFoundDiv);
            }
          };
          xhr.send();
        }
      };
      xhr.send();
    });
  </script>

</body>

</html>
